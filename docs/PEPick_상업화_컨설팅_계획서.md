# PEPick! 상용화 컨설팅 보고서

> **작성일**: 2026년 2월 22일
> **대상**: PEPick! v1.0 (pepick-iwg)
> **작성 목적**: 구독 기반 SaaS 서비스 런칭을 위한 종합 컨설팅

---

## 제1원칙: 공정한 알고리즘과 학생 데이터 보호

> **"술래뽑기와 모둠뽑기의 공정성이 수학적으로 보장되어야 하고, 학생의 이름·성별·활동 기록이 교사 외에는 절대 접근할 수 없어야 한다."**

이 원칙은 보고서 전체를 관통하는 최상위 기준입니다. 체육 수업에서 "왜 나만 술래야?"라는 불만이 나오지 않으려면 알고리즘의 신뢰성이 필수이며, 초등학생(만 7~12세)의 개인정보는 법적으로도 특별 보호 대상입니다.

---

## 1부: 앱 현황 요약

### 기술 스택

| 영역       | 기술                                              |
| ---------- | ------------------------------------------------- |
| 프론트엔드 | Vanilla JavaScript (ES6+ 모듈)                    |
| 스타일링   | Tailwind CSS + 커스텀 CSS (Glass Morphism 디자인) |
| 번들러     | Vite 7.3 (다중 진입점: index.html + login.html)   |
| 백엔드/DB  | Firebase Firestore (NoSQL 클라우드 DB)            |
| 인증       | Firebase Auth (Google OAuth 전용)                 |
| 배포       | Netlify (정적 호스팅 + CDN)                       |
| 오프라인   | Service Worker (PWA, Network-first 전략)          |

### 핵심 기능 5가지

1. **술래뽑기** — Fisher-Yates 셔플 기반 공정한 무작위 추첨, 후보자 관리, 이력 추적
2. **모둠뽑기** — 자동 모둠 구성, 남는/부족 학생 처리, 쿠키 점수 시스템
3. **학급 관리** — 학급 생성/편집/삭제, 학생 CRUD, CSV 가져오기, 모둠 편집
4. **배지 시스템** — 10종 배지 수여, 경험치(XP) 누적, 온도계 보상 체계
5. **클라우드 동기화** — Firestore 실시간 동기화, 기기 간 데이터 공유

### 현재 배포 상태

- Netlify에 정적 배포 중 (PWA로 오프라인 지원)
- Firebase 프로젝트: `pepick-iwg`
- Google OAuth를 통한 교사 인증

### 코드 규모

- **JavaScript**: 45개 파일
- **CSS**: 8개 파일
- **총 코드량**: 약 9,700줄 (JS 기준)
- **HTML 템플릿**: 17개 조각 (Vite `?raw` import)

---

## 2부: 상품성 점수 (10점 만점)

| #   | 항목             | 점수    | 한줄 요약                                                               |
| --- | ---------------- | ------- | ----------------------------------------------------------------------- |
| 1   | 핵심 기능 완성도 | **8.5** | 술래뽑기+모둠뽑기+배지 3-in-1 완성, Fisher-Yates 알고리즘 신뢰성 최상급 |
| 2   | UI/UX 디자인     | **8.0** | Glass Morphism 디자인, 반응형, 모바일 최적화, 교사 친화적 UI            |
| 3   | 차별화           | **8.5** | 체육 전담 도구 시장에 유일한 술래뽑기+모둠뽑기 통합 앱                  |
| 4   | 시장 적합성      | **8.0** | 체육 수업 일상 업무 정확히 타겟, 전국 초등교사 19만명 시장              |
| 5   | 기술적 완성도    | **7.0** | Vite 번들링, Store Facade 패턴 양호, N+1 쿼리·배지 스키마 불일치        |
| 6   | 확장 가능성      | **6.5** | Vanilla JS 9,700줄, 모듈 분리 양호하나 대형 파일 존재                   |
| 7   | 수익화 준비도    | **2.0** | 결제 인프라 전무, 서버 사이드 로직 0%                                   |
| 8   | 사용자 경험      | **8.0** | 온보딩 위저드, 오프라인 PWA, 학급별 데이터 분리                         |
| 9   | 보안/신뢰성      | **5.0** | Firestore uid 격리 양호, 데이터 검증 부재, XSS 2곳, CSP 없음            |
| 10  | 법적 준비도      | **1.0** | 개인정보처리방침 0%, 동의 절차 0%, 겸직허가 미신청                      |
| 11  | 운영/유지보수    | **4.0** | ESLint+Prettier+Husky 있으나, 테스트 0개, CI/CD 없음                    |

### 종합 상품성: 6.0 / 10

> **해석**: "알고리즘과 UX는 상용 수준이지만, 돈을 받기에는 법적·보안·결제 기반이 부족한 상태"
> 비유하자면, **완벽한 레시피로 음식을 만들었지만 식당 허가증·위생 검사·계산대가 아직 없는 것**과 같습니다. 다만, ClassPet 대비 학생 데이터 수집이 최소화되어 있어 법적 정비 부담이 상대적으로 가볍습니다.

---

## 3부: 영역별 심층 분석

### A. 보안 분석 (5/10)

#### [CRITICAL-01] XSS 취약점 — 술래뽑기 학생 카드

- **파일**: `js/tag-game/tag-game.js:391`
- **현재 상태**: 학생 이름을 `escapeHtml()` 없이 `innerHTML`에 직접 삽입
  ```javascript
  card.innerHTML = `<span>${name}</span><button class="tag-card-remove" ...>×</button>`;
  ```
- **왜 문제인가**: 학생 이름에 `<img src=x onerror=alert('해킹')>` 같은 값이 들어오면 실행됩니다. 비유하자면, **교실 칠판에 아무 그림이나 그릴 수 있는 상태**입니다. CSV 가져오기로 악성 이름이 유입될 수 있습니다.
- **어떻게 고치나**: `${name}` → `${UI.escapeHtml(name)}` 한 줄 변경. 같은 파일의 `tag-game-ui.js`는 이미 `UI.escapeHtml()`을 올바르게 사용 중이므로 패턴을 따르면 됩니다.
- **난이도**: 쉬움 | **우선순위**: 🔴 긴급

#### [CRITICAL-02] XSS 취약점 — 모둠뽑기 학생 카드

- **파일**: `js/group-manager/group-manager.js:246`
- **현재 상태**: 동일한 패턴으로 `name`이 이스케이프 없이 삽입
  ```javascript
  card.innerHTML = `<span>${name}</span><button class="tag-card-remove" ...>×</button>`;
  ```
- **왜 문제인가**: [CRITICAL-01]과 동일. 모둠뽑기 화면에서도 XSS 공격 가능.
- **어떻게 고치나**: `${name}` → `${UI.escapeHtml(name)}`
- **난이도**: 쉬움 | **우선순위**: 🔴 긴급

> **참고 — XSS 방어가 잘 된 파일들**:
>
> - `tag-game-ui.js:24,40,68,89` — 모두 `UI.escapeHtml()` 사용 ✅
> - `group-manager-ui.js:59,65` — `UI.escapeHtml()` 사용 ✅
> - `modal-editor.js:23-24` — `UI.escapeHtml(student.id)`, `UI.escapeHtml(student.name)` 사용 ✅
> - `csv-import.js:37` — `UI.escapeHtml(row.name || '')` 사용 ✅
>
> 즉, **대부분의 UI 렌더링은 안전**하고, 학생 카드 생성 함수 2곳만 빠져 있습니다.

#### [HIGH-03] Firestore 보안 규칙 — 데이터 검증 없음

- **파일**: `firestore.rules` 전체 (31줄)
- **현재 상태**: `request.auth.uid == userId` 인증 검증만 존재. 데이터 타입, 크기, 필드 제한 없음.
  ```firestore
  match /students/{studentId} {
    allow read, write: if request.auth != null
                       && request.auth.uid == userId;
  }
  ```
- **왜 문제인가**: 인증된 사용자가 자기 경로에 **1MB짜리 학생 이름**, **음수 번호**, **임의 필드 100개**를 저장할 수 있습니다. 비유하자면, **출입증은 확인하지만 가방 검사는 안 하는 것**입니다. 악의적 클라이언트가 Firestore 비용을 폭증시킬 수 있습니다.
- **어떻게 고치나**: 검증 함수 추가
  ```firestore
  function isValidStudent(data) {
    return data.keys().hasAll(['name', 'number'])
      && data.name is string && data.name.size() < 50
      && data.number is number && data.number >= 0 && data.number <= 99
      && request.resource.size() < 50000;
  }
  ```
- **장점**: ✅ 사용자 격리는 완벽 (uid 매칭). ✅ 기본 거부 규칙 있음 (`if false`).
- **난이도**: 보통 | **우선순위**: 🔴 긴급

#### [HIGH-04] Firebase API 키 클라이언트 하드코딩

- **파일**: `js/firebase-config.js:10-16`
- **현재 상태**: API 키 `AIzaSyBR-wjw7ZptOyWhFpxTDTzrDBPjACZseIc`가 소스코드에 직접 노출
- **왜 문제인가**: Firebase 웹앱에서 API 키 노출 자체는 설계상 정상이지만, **HTTP 리퍼러 제한 없이 방치**하면 다른 사이트에서 이 키로 Firebase에 무단 요청을 보낼 수 있습니다. 또한 환경 분리(dev/staging/prod)가 불가능합니다.
- **어떻게 고치나**: (1) Firebase Console → API 키 → HTTP 리퍼러 제한 설정 (5분 작업) (2) `import.meta.env.VITE_*` 환경변수로 전환 (30분 작업)
- **난이도**: 쉬움 | **우선순위**: 🟡 높음

#### [HIGH-05] Content Security Policy(CSP) 완전 부재

- **파일**: Netlify 설정 (`.netlify/netlify.toml`)
- **현재 상태**: 보안 헤더가 전혀 설정되어 있지 않음. `X-Frame-Options`, `X-XSS-Protection`, `Content-Security-Policy` 모두 없음.
- **왜 문제인가**: CSP가 없으면 XSS 공격 시 외부 스크립트가 자유롭게 실행될 수 있습니다. **집에 도어락은 있는데 창문이 전부 열려 있는 것**과 같습니다.
- **어떻게 고치나**: 프로젝트 루트에 `netlify.toml` 생성 (현재는 `.netlify/` 내부에만 자동생성 파일이 있음)
  ```toml
  [[headers]]
    for = "/*"
    [headers.values]
      X-Content-Type-Options = "nosniff"
      X-Frame-Options = "SAMEORIGIN"
      X-XSS-Protection = "1; mode=block"
      Referrer-Policy = "strict-origin-when-cross-origin"
  ```
- **난이도**: 쉬움 | **우선순위**: 🟡 높음

#### [MEDIUM-06] CSV 가져오기 — 파일 크기/라인 수 제한 없음

- **파일**: `js/class-management/csv-import.js:143-194`
- **현재 상태**: `parseCSV()` 함수에 라인 수 제한이 없음. 1GB CSV 파일도 파싱 시도 가능.
- **왜 문제인가**: 악의적으로 거대한 CSV를 로드하면 브라우저가 멈출 수 있습니다 (DoS). HTML의 `maxlength="20"`은 파싱 단계에서는 적용되지 않습니다.
- **어떻게 고치나**: 파싱 전 `if (lines.length > 500) return [];` 추가
- **난이도**: 쉬움 | **우선순위**: 🟢 보통

#### [MEDIUM-07] console.log 디버그 정보 잔존

- **파일**: 13개 JS 파일에 걸쳐 총 42개
- **주요 위치**: `firestore-sync.js` (9개), `store.js` (8개), `wizard.js` (4개)
- **현재 상태**: `[FirestoreSync] 사용자 변경 감지`, `localStorage에 N개 학급 저장 완료` 등 개발용 로그
- **왜 문제인가**: 내부 동작 구조가 브라우저 콘솔에 노출됨. 다만 UID, 토큰 같은 **직접적 민감 정보 출력은 없음** ✅
- **어떻게 고치나**: Vite 빌드 시 `console.log` 자동 제거 설정
- **난이도**: 쉬움 | **우선순위**: 🟢 보통

#### [MEDIUM-08] Service Worker 캐시 버전 수동 관리

- **파일**: `sw.js:1`
- **현재 상태**: `const CACHE_NAME = 'pe-picker-v4';` — 하드코딩
- **왜 문제인가**: 새 버전 배포 시 캐시 이름을 수동으로 바꿔야 합니다. 깜빡하면 사용자는 구버전을 계속 사용합니다. 보안 패치가 즉시 적용되지 않을 수 있습니다.
- **어떻게 고치나**: 빌드 타임에 자동 생성 (`pe-picker-${BUILD_HASH}`)
- **난이도**: 보통 | **우선순위**: 🟢 보통

---

### B. 데이터/인프라 분석 (5.5/10)

#### [DATA-01] N+1 쿼리 패턴 — Firestore 비용 폭증 위험

- **파일**: `js/firestore-sync.js:177-182`
- **현재 상태**: 학급 컬렉션에서 N개 학급을 읽은 후, **각 학급마다 별도의 `getDocs()` 호출**로 학생 서브컬렉션을 읽음
  ```javascript
  const classes = await Promise.all(
    snap.docs.map(async docItem => {
      const subStudents = await hydrateStudentsFromFirestore(docItem.id); // ← 각 학급마다 1회
      return normalizeClassFromSnapshot(docItem.id, data, subStudents);
    })
  );
  ```
- **왜 문제인가**: 학급 10개면 **11번의 Firestore 읽기 요청** (1 + 10). 각 요청이 10초 타임아웃이므로 최악의 경우 100초 대기. 비유하자면, **반 학생 명단을 한 명씩 따로따로 전화해서 확인하는 것**과 같습니다. Firestore 무료 할당량(5만 읽기/일)을 빠르게 소진합니다.
- **실시간 리스너에서도 동일**: `js/firestore-sync.js:266-285` — `onSnapshot()` 콜백에서도 매번 N+1 쿼리 반복. 학급 데이터 1곳이 바뀔 때마다 **모든 학급의 학생을 다시 읽음**.
- **어떻게 고치나**: "로컬 우선 + 지연 동기화" 전략
  - 초기 로드: localStorage에서 학생 데이터를 먼저 표시
  - 백그라운드: Firestore에서 학생 데이터를 비동기로 가져와 병합
  - 변경 시: 로컬 저장 → Firestore에 배치 업로드
- **난이도**: 보통 | **우선순위**: 🔴 긴급

#### [DATA-02] 배지 스키마 필드명 불일치 — 동기화 오류 위험

- **파일**: `js/storage/badge-repo.js:35-59` vs `js/firestore-sync.js:309-316`
- **현재 상태**: 같은 배지 데이터가 localStorage와 Firestore에서 **다른 필드명**을 사용
  | 필드 의미 | BadgeRepo (localStorage) | FirestoreSync (Firestore) |
  |----------|--------------------------|---------------------------|
  | 배지 종류 | `badgeType` | `type` |
  | 시각 | `timestamp` | `date` |
  | XP | `xp` | `xp` ✅ |
  | 맥락 | `context` | `context` ✅ |
- **왜 문제인가**: Firestore에서 다운로드한 배지 데이터를 로컬에 저장할 때 `type` → `badgeType`, `date` → `timestamp`로 변환하는 코드가 있지만(line 222-229), **역방향 변환 시 누락**되면 배지가 사라질 수 있습니다. 비유하자면, **같은 학생부를 한국어와 영어로 따로 적어서 나중에 누가 누군지 헷갈리는 것**입니다.
- **어떻게 고치나**: 하나의 표준 스키마로 통일 (Firestore 기준 또는 BadgeRepo 기준 중 택 1)
- **난이도**: 보통 | **우선순위**: 🔴 긴급

#### [DATA-03] localStorage QuotaExceededError 무시

- **파일**: `js/storage/base-repo.js:39-44`
- **현재 상태**: `try-catch`에서 `console.error`만 출력하고 **아무 처리도 안 함**
  ```javascript
  export function set(key, value) {
    try {
      localStorage.setItem(key, JSON.stringify(value));
    } catch (e) {
      console.error(`BaseRepo.set(${key}) 오류:`, e); // ← 여기서 끝
    }
  }
  ```
- **왜 문제인가**: localStorage는 5~10MB 제한. 배지 로그가 쌓이면 용량 초과 시 **데이터가 저장되지 않는데 사용자는 모름** (silent fail). 비유하자면, **칠판이 꽉 찼는데 알려주지 않고 몰래 지우는 것**입니다.
- **어떻게 고치나**: 오래된 배지 로그 자동 정리 + 사용자 토스트 알림
- **난이도**: 쉬움 | **우선순위**: 🟡 높음

#### [DATA-04] 환경 분리 없음

- **현재 상태**: 개발/스테이징/프로덕션 모두 같은 Firebase 프로젝트 (`pepick-iwg`) 사용
- **왜 문제인가**: 개발 중 실수로 실제 교사 데이터를 삭제하거나 변경할 수 있습니다. 비유하자면, **연습 경기와 실제 경기를 같은 운동장에서 동시에 하는 것**입니다.
- **어떻게 고치나**: Firebase 프로젝트 2개 (dev/prod) + Netlify 환경변수로 빌드 시 분리
- **난이도**: 보통 | **우선순위**: 🟡 높음

#### [DATA-05] CI/CD 파이프라인 없음

- **현재 상태**: 수동으로 `npm run deploy` (`vite build && netlify deploy --prod`) 실행
- **왜 문제인가**: 테스트 없이 배포되거나, 실수로 깨진 코드가 프로덕션에 나갈 수 있음
- **참고**: `.netlify/netlify.toml`의 publish 경로가 **절대 경로** (`/Users/iwongeun/Desktop/pe-picker/dist`)로 되어 있어 다른 환경에서 빌드 실패
- **어떻게 고치나**: GitHub Actions → 린트 → 빌드 → 자동 배포 파이프라인
- **난이도**: 보통 | **우선순위**: 🟡 높음

#### [DATA-06] 테스트 코드 0%

- **현재 상태**: 프로젝트 전체에 `.test.js`, `.spec.js` 파일 **0개**
- **왜 문제인가**: 한 곳을 고치면 다른 곳이 깨지는 "두더지 잡기" 현상 발생. 특히 술래뽑기 알고리즘의 공정성이 리팩토링 후에도 유지되는지 검증 불가.
- **어떻게 고치나**: Vitest + jsdom 기본 설정, 핵심 로직(tag-picker, group-picker, store) 단위 테스트 우선
- **참고**: ESLint + Prettier + Husky + lint-staged는 이미 설정되어 있음 ✅
- **난이도**: 보통 | **우선순위**: 🟢 보통

#### [DATA-07] 에러 모니터링 없음

- **현재 상태**: `console.error`만 사용. 실제 사용자 환경에서 어떤 에러가 나는지 알 수 없음.
- **왜 문제인가**: "태블릿에서 앱이 안 돌아간다"는 문의가 와도 원인 파악이 불가능
- **어떻게 고치나**: Sentry 무료 플랜 (월 5,000 이벤트) 연동 또는 Firebase Crashlytics
- **난이도**: 쉬움 | **우선순위**: 🟢 보통

#### [DATA-08] 트랜잭션 부재 — 배지 동기화 데이터 불일치

- **파일**: `js/firestore-sync.js:320-341`
- **현재 상태**: 여러 학급의 배지를 순차적으로 `writeBatch`로 쓰지만, **학급 간 원자성이 없음**
- **왜 문제인가**: 학급 A의 배지 쓰기 성공 → 학급 B의 배지 쓰기 실패 → 부분 업데이트 상태. 학생이 "선생님, 배지 받았는데 사라졌어요!" 할 수 있습니다.
- **어떻게 고치나**: Firestore `runTransaction()`으로 모든 쓰기를 하나의 원자적 작업으로 묶기
- **난이도**: 보통 | **우선순위**: 🟢 보통

#### [DATA-09~14] 추가 데이터/인프라 항목 요약

| #   | 항목                                                                    | 난이도 | 우선순위 |
| --- | ----------------------------------------------------------------------- | ------ | -------- |
| 09  | Firestore 오프라인 지속성 미설정 (네트워크 불안정 환경 대비)            | 쉬움   | 높음     |
| 10  | 대형 파일: group-manager.js 1,021줄, tag-game.js 893줄 (모듈 분리 필요) | 보통   | 보통     |
| 11  | layout.css 3,015줄 (분할 필요)                                          | 보통   | 낮음     |
| 12  | 타이머/모달 코드 중복 (tag-game, group-manager, timer.js)               | 보통   | 보통     |
| 13  | 백업 전략 없음 (Firestore 자동 백업 미설정)                             | 쉬움   | 높음     |
| 14  | 학기말 데이터 아카이브/초기화 기능 없음                                 | 보통   | 높음     |

---

### C. 결제 시스템 분석 (2/10)

#### [PAY-01] 서버 사이드 완전 부재

- **현재 상태**: 모든 로직이 클라이언트(브라우저)에서 실행됨. 서버 사이드 코드 0%.
- **왜 문제인가**: 결제는 반드시 서버에서 검증해야 합니다. 클라이언트에서 "결제 완료"라고 보내도 실제로 돈이 들어왔는지 확인할 수 없습니다. 비유하자면, **돈을 받는 카운터 없이 셀프 계산대만 있는 가게**입니다.
- **어떻게 고치나**: Netlify Functions (Node.js 서버리스) — 결제 검증, 구독 관리, webhook 수신
- **난이도**: 어려움 | **우선순위**: 🟡 높음

#### [PAY-02] PG(결제 대행사) 연동 미구현

- **추천**: 토스페이먼츠 (한국 시장 1순위)
  - 수수료 3.3~4.3% (Stripe 불가, 포트원 +0.5% 추가, Paddle 5%+$0.50)
  - 결제위젯이 UI까지 제공 → 프론트엔드 공수 최소
  - 개발 문서 한국어 완벽, 테스트 모드 무료
- **어떻게 고치나**: (1) 토스페이먼츠 가입 → (2) 테스트 키 발급 → (3) 결제위젯 SDK 추가 → (4) Netlify Functions로 결제 승인 API 호출
- **난이도**: 어려움 | **우선순위**: 🟡 높음

#### [PAY-03] 구독 관리 로직 없음

- **어떻게 고치나**:
  - Firestore `users/{uid}` 문서에 구독 정보 필드 추가
  - `Store.isPro()` 함수 → 프리미엄 기능 분기
  - 만료일 자동 체크 (Netlify Functions Scheduled)
  - 무료/유료 기능 분리 미들웨어 (`feature-gate.js`)
- **난이도**: 어려움 | **우선순위**: 🟡 높음

#### [PAY-04~08] 추가 결제 항목 요약

| #   | 항목                                        | 난이도 | 우선순위 |
| --- | ------------------------------------------- | ------ | -------- |
| 04  | 환불 정책 및 자동 처리 로직                 | 보통   | 보통     |
| 05  | 무료체험 기간 관리 (30일 추천)              | 보통   | 높음     |
| 06  | 구독 등급별 기능 제한 로직 (프론트 게이트)  | 보통   | 높음     |
| 07  | 결제 실패 시 재시도 로직                    | 보통   | 보통     |
| 08  | 결제 관련 이메일 알림 (구독 시작/갱신/만료) | 보통   | 낮음     |

---

### D. 법적 요건 분석 (1/10)

#### [LAW-01] 개인정보처리방침 없음 (법적 의무)

- **현재 상태**: 앱 내 어디에도 개인정보처리방침이 없습니다.
- **왜 문제인가**: 개인정보보호법 제30조에 따라 **개인정보를 수집하는 모든 서비스는 개인정보처리방침을 공개해야 합니다.** PEPick!은 Google OAuth로 이름·이메일·프로필 사진을 수집하므로 해당됩니다. 위반 시 과태료 부과 대상입니다.
- **필요 내용**: 수집 항목(Google 계정 이름, 이메일, 프로필 사진), 수집 목적(로그인 및 데이터 동기화), 보유기간(회원 탈퇴 시 즉시 삭제), 제3자 제공 여부(없음), 파기 절차, 이의제기 방법, 개인정보 보호책임자 연락처
- **난이도**: 보통 (법률 검토 필요) | **우선순위**: 🔴 긴급

**개인정보처리방침 필수 항목 (개인정보보호법 제30조 기준):**

| #   | 조항                | PEPick 적용 내용                                                                       |
| --- | ------------------- | -------------------------------------------------------------------------------------- |
| 1   | 처리 목적           | 회원가입 및 로그인, 데이터 동기화, 유료 서비스 제공                                    |
| 2   | 수집 항목           | 교사: Google 계정 이름·이메일·프로필 사진 / 학생: 이름·번호·성별 (교사 기기 로컬 저장) |
| 3   | 보유 기간           | 회원 탈퇴 시 즉시 삭제. 전자상거래법상 거래기록 5년 보관                               |
| 4   | 제3자 제공          | Google Firebase (데이터 저장), 토스페이먼츠 (결제 처리)                                |
| 5   | 처리업무 위탁       | Google Cloud, Netlify (호스팅), 토스페이먼츠                                           |
| 6   | 파기 절차 및 방법   | 회원 탈퇴 시 Firestore 문서 삭제, localStorage 초기화                                  |
| 7   | 정보주체 권리·의무  | 열람·정정·삭제·처리정지 요청 방법 명시                                                 |
| 8   | 안전성 확보 조치    | HTTPS, Firebase 보안규칙(UID 격리), CSP 헤더                                           |
| 9   | 자동 수집 장치      | 쿠키 미사용, localStorage 사용 목적 설명                                               |
| 10  | 개인정보 보호책임자 | **실명·직위·연락처** 기재 필수 (개인정보보호법 제31조)                                 |
| 11  | 처리방침 변경 절차  | 변경 시 앱 내 공지 + 재동의 요청                                                       |
| 12  | 만 14세 미만 아동   | PEPick은 교사만 사용 → 학생 개인정보 직접 수집 없음 명시                               |
| 13  | 국외 이전           | Firebase 서버 위치 (미국) 명시, Google DPA 근거                                        |
| 14  | 권익침해 구제방법   | 개인정보분쟁조정위원회, KISA, 경찰청, 대검찰청 연락처                                  |

> **ClassPet과의 차이**: ClassPet은 학생이 직접 로그인하므로 법정대리인 동의가 핵심 이슈.
> PEPick은 교사만 로그인하므로 제12조(아동 특별 규정) 부담이 매우 가벼움.
> 단, Firestore에 학생 이름이 동기화되므로 "교사의 교육 활동 목적 처리"임을 명시 권장.

#### [LAW-02] 교사 개인정보 수집 동의 절차 없음

- **현재 상태**: Google 로그인 시 개인정보 수집 동의 없이 바로 앱 진입
- **왜 문제인가**: 개인정보보호법에 따라 수집 **전**에 동의를 받아야 합니다.
- **필요 구현**:
  - 신규 로그인 감지 → 동의 모달 표시 → 동의해야 `bootstrapAfterAuth()` 진행
  - 거부 시 로그아웃 + `login.html` 이동
  - Firestore `users/{uid}.privacyConsented` + `privacyConsentedAt` + `privacyVersion` 저장
  - 약관 버전 변경 시 재동의 요청
- **삽입 위치**: `js/app.js`의 `onAuthStateChanged()` → `bootstrapAfterAuth()` 사이
- **난이도**: 보통 | **우선순위**: 🔴 긴급

**동의 수집 절차 구현 상세 (ClassPet ConsentGate 참고):**

- **필수/선택 동의 분리**:
  - 필수: 이용약관 동의, 개인정보 수집·이용 동의
  - 선택: 마케팅 정보 수신 동의 (이메일/앱 알림)
  - "전체 동의" 체크박스 제공 (편의성)
  - 필수 항목 미동의 시 진행 불가

- **동의 버전 관리 + 재동의**:
  - Firestore `users/{uid}` 문서에 `privacyVersion: '1.0'` 저장
  - 약관 변경 시 버전 업데이트 → 기존 사용자에게 재동의 요청
  - 재동의 거부 시 기존 기능은 유지하되, 유료 전환 차단

- **동의 철회(탈퇴) 시 데이터 삭제**:
  - 회원 탈퇴 시 Firestore `users/{uid}` 문서 + 하위 컬렉션 전체 삭제
  - 동의 기록(동의 시각, 버전)은 법적 증빙을 위해 별도 보관 후 일정 기간 후 삭제
  - 코드: `deleteUser()` 함수에 Firestore 문서 삭제 로직 포함 필요

#### [LAW-03] 교육공무원 겸직허가 미신청

- **현재 상태**: 초등 교사(교육공무원)가 앱으로 수익을 올리려면 **겸직허가가 필수**
- **절차**: (1) 소속 학교에 겸직허가 신청서 제출 → (2) 겸직심사위원회 심사 → (3) 허가 후 개인사업자 등록
- **참고**: 2023년 기준 겸직허가를 받은 교원 중 수익 발생 교원은 9,845명(81.2%)으로 보편화 추세
- **난이도**: 쉬움 (행정 절차) | **우선순위**: 🔴 긴급

#### [LAW-04] 학생 개인정보 — PEPick!의 유리한 위치

- **현재 상태**: PEPick!은 **학생 데이터를 교사의 localStorage에만 저장**하고, Firestore 동기화는 교사 계정 아래 격리됨 (`users/{uid}/classes/{classId}/students/{studentId}`)
- **ClassPet과의 차이**: ClassPet은 학생이 직접 로그인하여 감정·메시지를 입력하므로 만 14세 미만 보호자 동의가 필수. **PEPick!은 교사만 사용하므로 보호자 동의 부담이 적음**.
- **권장 전략**: "개인정보 비수집" 모델 유지
  - Firestore 동기화 시 학생 이름 암호화 옵션 제공
  - 이름 대신 번호만 사용하는 모드 추가
  - 앱 내에 "학생 개인정보를 서버에 수집하지 않습니다" 명시
- **난이도**: 보통 | **우선순위**: 🟡 높음

#### [LAW-05] 이용약관 없음

- **필요**: 서비스 이용약관, 유료 결제 약관, 면책 조항, 서비스 중단/변경 안내
- **난이도**: 보통 | **우선순위**: 🟡 높음

**이용약관 필수 조항 (전자상거래법·약관규제법 기준):**

| #   | 조항             | 내용                                                            |
| --- | ---------------- | --------------------------------------------------------------- |
| 1   | 서비스 개요      | PEPick! 서비스 정의, 제공 기능 범위                             |
| 2   | 회원가입/탈퇴    | Google OAuth 가입 절차, 탈퇴 시 데이터 삭제                     |
| 3   | 서비스 이용 제한 | 부정 사용, 저작권 침해 등                                       |
| 4   | 유료 서비스      | 구독 플랜, 가격, 결제 방법, 부가세 포함 명시                    |
| 5   | 자동갱신 및 해지 | **갱신 3~7일 전 사전 통지 의무** (이메일/앱 알림)               |
| 6   | 청약철회/환불    | 디지털 콘텐츠 특성상 즉시 이용 시 환불 제한, 미이용분 환불 규정 |
| 7   | 서비스 변경/중단 | 사전 공지 의무                                                  |
| 8   | 면책 조항        | 불가항력, 제3자 서비스(Firebase) 장애                           |
| 9   | 분쟁 해결        | 관할 법원 (소비자 주소지 관할 법원 병기 권장)                   |
| 10  | 약관 변경        | 변경 시 7일 전 공지 + 재동의 절차                               |

> **ClassPet 참고 사항**:
>
> - "회사 소재지 관할 법원"만 적으면 소비자에게 불리 → "소비자 주소지 관할 법원"도 병기
> - 자동갱신 구독 시 **결제 예정 안내 이메일**을 사전 발송해야 전자상거래법 준수

#### [LAW-06~10] 추가 법적 항목 요약

| #   | 항목                                           | 난이도 | 우선순위 |
| --- | ---------------------------------------------- | ------ | -------- |
| 06  | 사업자등록 및 통신판매업 신고                  | 쉬움   | 높음     |
| 07  | 전자상거래법 준수 (결제/환불 관련) — 아래 상세 | 보통   | 높음     |
| 08  | 교육부 디지털 교육 가이드라인 준수 점검        | 보통   | 보통     |
| 09  | 데이터 보유기간 정책 (학년 단위 권장)          | 보통   | 보통     |
| 10  | 회원 탈퇴 시 데이터 완전 삭제 보장             | 보통   | 높음     |

#### [LAW-07] 전자상거래법 준수 — 유료 서비스 출시 전 필수

- **파일**: 서비스 하단 footer + 약관 페이지 (신규 생성 필요)
- **현재 상태**: 전자상거래법 관련 구현 0%
- **왜 문제인가**: 유료 구독 서비스를 제공하면서 전자상거래법을 미준수하면 **시정 명령 + 과태료** 대상

**전자상거래법 필수 요건:**

| 요건               | 현재 상태 | 조치 필요                                                                                |
| ------------------ | --------- | ---------------------------------------------------------------------------------------- |
| 사업자 정보 표시   | ❌ 미구현 | 서비스 하단 footer에 **상호·대표자·사업자등록번호·통신판매업 신고번호·주소·연락처** 표시 |
| 청약철회 안내      | ❌ 미구현 | 이용약관에 포함 + 결제 화면에 안내                                                       |
| 환불 정책          | ❌ 미구현 | 미이용분 일할 환불 규정 명시                                                             |
| 자동갱신 사전 통지 | ❌ 미구현 | 결제일 3~7일 전 이메일/앱 알림으로 갱신 예정 안내 필요                                   |
| 통신판매업 신고    | ❌ 미완료 | 관할 시·군·구에 신고 (전자상거래법 제12조)                                               |
| 부가가치세         | ❌ 미고려 | 가격에 "부가세 포함"임을 명시. 사업자등록 후 부가세 신고·납부 의무                       |

- **난이도**: 보통 (법률 검토 + 코드 구현) | **우선순위**: 🔴 긴급 (유료 전환 전 필수)

---

### E. 경쟁력 분석

#### PEPick! vs 주요 경쟁 서비스 비교

| 기능             | PEPick!                         | 그라운드  | 다했니              | 클래스툴즈   |
| ---------------- | ------------------------------- | --------- | ------------------- | ------------ |
| 술래뽑기         | ✅ 공정 알고리즘 + 이력 관리    | ❌ 없음   | ❌ 없음             | ⚠️ 단순 랜덤 |
| 모둠뽑기         | ✅ 자동 + 쿠키 점수 + 성별 구분 | ❌ 없음   | ❌ 없음             | ⚠️ 기본적    |
| 배지/보상        | ✅ 10종 배지 + 온도계           | ✅ 스탬프 | ❌ 없음             | ❌ 없음      |
| 학급 관리        | ✅ 학생 CRUD + CSV              | ✅ 기본적 | ✅ 기본적           | ❌ 없음      |
| 오프라인 PWA     | ✅ Network-first                | ❌ 없음   | ❌ 없음             | ❌ 없음      |
| 클라우드 동기화  | ✅ Firestore 실시간             | ✅        | ⚠️ 부분적           | ❌ 없음      |
| 체육 특화        | ✅ 완전 특화                    | ❌ 범용   | ❌ 범용             | ⚠️ 일부      |
| 한국 교육과정    | ✅ 완전 연계                    | ✅        | ✅                  | ⚠️ 일부      |
| 가격             | 미정                            | 무료      | 기본 무료 + AI 유료 | 무료         |
| 데이터 보호 수준 | ⚠️ 미비 (법적 문서 0)           | ⚠️ 미비   | ✅ 양호             | ⚠️ 미비      |

#### Blue Ocean (빈 자리)

PEPick!의 가장 큰 차별점은 **"체육 수업 전용 술래뽑기 + 모둠뽑기 통합 도구"**가 한국 시장에 없다는 것입니다. 그라운드는 범용 학급경영, 다했니는 할 일 체크, 클래스툴즈는 단순 유틸리티입니다.

**Fisher-Yates 알고리즘 기반의 수학적 공정성**은 특히 차별화 포인트입니다. "컴퓨터가 공정하게 뽑았어요"라고 학생에게 설명할 수 있는 근거가 됩니다.

---

## 4부: SWOT 분석

### Strengths (강점)

1. **알고리즘 신뢰성**: Fisher-Yates 셔플, `Math.random() - 0.5` 정렬 금지 원칙 → 공정성 완벽
2. **체육 특화**: 술래뽑기+모둠뽑기를 하나의 앱에서 — 체육 전담 교사의 일상 업무 해결
3. **오프라인 PWA**: 체육관·운동장처럼 네트워크가 불안정한 환경에서도 사용 가능
4. **UI/UX 완성도**: Glass Morphism 디자인, 모바일 반응형, 온보딩 위저드
5. **현직 교사 개발**: 실제 체육 수업의 니즈를 정확히 반영 (술래 순번 관리, 남는 학생 처리 등)

### Weaknesses (약점)

1. **법적 준비 0%**: 개인정보처리방침, 동의 절차, 이용약관 없음
2. **결제 인프라 전무**: 서버 사이드 로직 0%, PG 연동 없음
3. **XSS 취약점 2곳**: 학생 카드 생성 시 이스케이프 누락
4. **N+1 쿼리**: Firestore 비용 폭증 위험, 로딩 지연
5. **테스트 0개**: 리팩토링 시 회귀 테스트 불가

### Opportunities (기회)

1. **체육 특화 블루오션**: 한국 시장에 체육 전담 SaaS가 없음
2. **교사 커뮤니티**: 인디스쿨/참쌤스쿨 등 활발한 교사 커뮤니티를 통한 입소문
3. **디지털 교실 전환**: 교육부 스마트교실 정책 → 학교 디지털 도구 수요 급증
4. **에듀테크 시장 성장**: 2026년 한국 에듀테크 시장 3조원 이상 예상
5. **낮은 가격 전략**: 1,000원/월은 교사가 부담 없이 결제 가능한 심리적 마지노선

### Threats (위협)

1. **무료 대안**: 클래스툴즈 등 무료 랜덤 도구와의 경쟁
2. **개인정보 규제 강화**: 교육부 디지털 교육 가이드라인 등
3. **대형 플랫폼 진입**: 그라운드/클래스팅이 체육 기능 추가 시 시장 잠식
4. **1인 운영 리스크**: 개발자 이탈/소진 시 서비스 지속 불가
5. **학교 예산 제약**: 유료 도구에 대한 학교 예산 확보 어려움

### 전략 매트릭스

|              | 기회 (O)                                                                                                  | 위협 (T)                                                                                                            |
| ------------ | --------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------- |
| **강점 (S)** | **SO전략**: Fisher-Yates 공정성 + 체육 특화로 교사 커뮤니티 선점. "수학적으로 공정한 체육 도구" 포지셔닝. | **ST전략**: 알고리즘 신뢰성과 오프라인 PWA로 무료 대안과 차별화. 대형 플랫폼이 못 하는 "체육 전문가" 포지셔닝.      |
| **약점 (W)** | **WO전략**: 법적/보안 기반을 빠르게 구축하여 시장 기회 포착. 1,000원/월 저가 전략으로 진입장벽 제거.      | **WT전략**: 무료 베타로 시작하여 리스크 최소화. 핵심 기능(술래뽑기)만 무료, 고급 기능(성별 균형 모둠뽑기)만 유료화. |

---

## 5부: 수익 모델 상세

### A. 추천 가격 2단계 (확정 방향)

| 구분          | 무료 (Basic)   | Pro                                |
| ------------- | -------------- | ---------------------------------- |
| **월 가격**   | 0원            | 1,000원/월                         |
| **연 가격**   | 0원            | 9,900원/년 (17% 할인)              |
| 학급 수       | 2개            | 무제한                             |
| 술래뽑기      | ✅ 기본        | ✅ + 고급 애니메이션/효과음 커스텀 |
| 모둠뽑기      | ✅ (4모둠까지) | ✅ 무제한 + 성별/능력 균형         |
| 배지 시스템   | ✅ 기본 5종    | ✅ 전체 10종 + 커스텀 배지         |
| 데이터 동기화 | ❌ (로컬만)    | ✅ 클라우드 동기화                 |
| 통계/리포트   | ❌             | ✅ 공정성 리포트 + 통계            |
| 우선 지원     | ❌             | 카카오톡 채널                      |

> **가격 근거**: "다했니" 앱은 핵심 무료 + AI만 유료. PEPick!은 저렴한 월 구독으로 진입장벽을 낮추는 전략. 1,000원/월은 초등 교사가 부담 없이 결제할 수 있는 심리적 마지노선.

### B. 3년 수익 시나리오

#### 보수적 시나리오 (월 사용자 증가: +5~10명)

| 기간  | 유료 사용자 | 월 매출   | 연 매출     |
| ----- | ----------- | --------- | ----------- |
| 1년차 | 30~50명     | 3~5만원   | 36~60만원   |
| 2년차 | 80~150명    | 8~15만원  | 96~180만원  |
| 3년차 | 150~300명   | 15~30만원 | 180~360만원 |

#### 현실적 시나리오 (월 사용자 증가: +15~25명)

| 기간  | 유료 사용자 | 월 매출    | 연 매출       |
| ----- | ----------- | ---------- | ------------- |
| 1년차 | 100~200명   | 10~20만원  | 120~240만원   |
| 2년차 | 300~500명   | 30~50만원  | 360~600만원   |
| 3년차 | 500~1,000명 | 50~100만원 | 600~1,200만원 |

#### 낙관적 시나리오 (바이럴 + 교사 커뮤니티 추천)

| 기간  | 유료 사용자   | 월 매출     | 연 매출         |
| ----- | ------------- | ----------- | --------------- |
| 1년차 | 300~500명     | 30~50만원   | 360~600만원     |
| 2년차 | 1,000~2,000명 | 100~200만원 | 1,200~2,400만원 |
| 3년차 | 2,000~5,000명 | 200~500만원 | 2,400~6,000만원 |

### C. 비용 구조 (월 기준)

| 항목                   | 무료~100명   | 500명           | 1,000명+         |
| ---------------------- | ------------ | --------------- | ---------------- |
| Firebase (Spark→Blaze) | 0원          | 3~5만원         | 10~20만원        |
| Netlify 호스팅         | 0원          | 0원 (무료 티어) | 2만원 (Pro)      |
| 도메인 (.kr)           | 1~2만원/년   | 1~2만원/년      | 1~2만원/년       |
| PG 수수료 (토스 4%)    | 매출의 4%    | 매출의 4%       | 매출의 4%        |
| **월 고정비 합계**     | **약 1만원** | **약 5~8만원**  | **약 15~25만원** |

### D. 손익분기점

- **월 고정비** (500명 기준): 약 8만원
- **PG 수수료**: 매출의 4%
- **손익분기점**: 월 유료 사용자 약 84명 (월 84,000원 매출 시)
- **예상 도달 시점**: 런칭 후 4~6개월

### E. PWA vs 앱스토어 수수료 비교

| 채널               | 수수료율 | 1,000원/월 기준 실수령 | 비고          |
| ------------------ | -------- | ---------------------- | ------------- |
| PWA (토스페이먼츠) | 4%       | **960원**              | 직접 결제     |
| App Store (소규모) | 15%      | 850원                  | 인앱결제 필수 |
| Play Store         | 15%      | 850원                  | 인앱결제 필수 |

> **전략**: PWA 웹 결제 우선 → 안정화 후 앱스토어 출시 (노출/접근성 확보용)

---

## 6부: 상용화 로드맵

### Phase 1: 법적 + 보안 필수 (1~2개월)

> **목표**: "돈을 받기 전에 먼저 법적 기반과 보안을 갖추자"

#### 1-A. 법적 기반 (최우선)

| 주차  | 작업                           | 상세                                                                                                                                                                                                                                                         | 난이도 |
| ----- | ------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------ |
| 1주   | 겸직허가 신청                  | 소속 학교에 "교육용 앱 개발·운영 수익 활동" 신청서 제출                                                                                                                                                                                                      | 쉬움   |
| 1주   | 개인정보처리방침 작성          | 수집항목·목적·보유기간·파기방법·이의제기 포함. 앱 내 페이지 + 풋터 링크                                                                                                                                                                                      | 보통   |
| 1주   | 이용약관 작성                  | 서비스 이용, 유료 결제, 면책 조항 포함                                                                                                                                                                                                                       | 보통   |
| 1~2주 | **교사 로그인 시 동의 흐름**   | Google 로그인 후 첫 접속 시 "개인정보 수집·이용 동의" 모달 → 동의해야 앱 진행. `app.js`의 `onAuthStateChanged()` → `bootstrapAfterAuth()` 사이에 게이트 삽입. Firestore `users/{uid}` 문서에 `privacyConsented`, `privacyConsentedAt`, `privacyVersion` 저장 | 보통   |
| 2주   | 사업자등록 + 통신판매업 신고   | 겸직허가 승인 후 (세무사 도움 10~20만원)                                                                                                                                                                                                                     | 쉬움   |
| 2주   | 이용약관 작성                  | 필수 조항 10개 (전자상거래법·약관규제법 기준) + 변호사 검토                                                                                                                                                                                                  | 보통   |
| 2~3주 | 서비스 footer 사업자 정보 표시 | 전자상거래법 제13조: 상호·대표자·사업자등록번호·통신판매업 신고번호·주소·연락처                                                                                                                                                                              | 쉬움   |
| 3주   | 자동갱신 사전 통지 설계        | Phase 2 결제 구현 시 반영. 갱신 3~7일 전 이메일/앱 알림 로직 설계                                                                                                                                                                                            | 쉬움   |

#### 1-B. 보안 긴급 패치

| 주차  | 작업                          | 파일:줄                                                                                 | 난이도 |
| ----- | ----------------------------- | --------------------------------------------------------------------------------------- | ------ |
| 2주   | XSS 수정 — 술래뽑기 학생 카드 | `tag-game.js:391` — `${name}` → `${UI.escapeHtml(name)}`                                | 쉬움   |
| 2주   | XSS 수정 — 모둠뽑기 학생 카드 | `group-manager.js:246` — 동일                                                           | 쉬움   |
| 2~3주 | Firestore 보안규칙 전면 강화  | `firestore.rules` — `isValidStudent()`, `isValidClass()` 검증 함수 추가, 문서 크기 제한 | 보통   |
| 3주   | 보안 헤더 추가                | 프로젝트 루트 `netlify.toml` 생성 — CSP, X-Frame-Options, X-XSS-Protection              | 쉬움   |
| 3주   | Firebase API 키 리퍼러 제한   | Firebase Console → API 키 → HTTP 리퍼러 제한 (5분 작업)                                 | 쉬움   |
| 4주   | Firebase 환경변수 전환        | `firebase-config.js` → `import.meta.env.VITE_*` + `.env.local`                          | 쉬움   |
| 4주   | console.log 정리              | Vite 빌드 설정에 `drop: ['console']` 추가 또는 수동 제거                                | 쉬움   |
| 4주   | CSV 파싱 제한                 | `csv-import.js:143` — 라인 수 500 제한, 이름 길이 50자 제한                             | 쉬움   |

#### 1-C. 데이터 긴급 패치

| 주차 | 작업                    | 파일                                                                     | 난이도 |
| ---- | ----------------------- | ------------------------------------------------------------------------ | ------ |
| 3주  | N+1 쿼리 제거           | `firestore-sync.js:177-182` — 로컬 우선 + 백그라운드 동기화 전략         | 보통   |
| 3주  | 배지 스키마 통일        | `badge-repo.js` + `firestore-sync.js` — `badgeType`/`timestamp`로 통일   | 보통   |
| 4주  | QuotaExceededError 처리 | `base-repo.js:39-44` — 오래된 로그 정리 + 토스트 알림                    | 쉬움   |
| 4주  | 에러 핸들링 시스템      | `firestore-sync.js` → `sync-error` 이벤트 발행, `app.js`에서 토스트 표시 | 보통   |

---

### Phase 2: 결제 인프라 (2~3개월)

> **목표**: "안전하게 돈을 받을 수 있는 구조를 만들자"

| 주차  | 작업                                      | 영역       | 난이도 |
| ----- | ----------------------------------------- | ---------- | ------ |
| 1주   | 토스페이먼츠 가입 + 테스트 키 발급        | 외부       | 쉬움   |
| 1~2주 | Netlify Functions 초기화 + 결제 승인 함수 | 백엔드     | 어려움 |
| 2~3주 | 결제위젯 SDK 연동 + 결제 페이지 UI        | 프론트엔드 | 보통   |
| 3~4주 | Firestore `users/{uid}` 구독 상태 관리    | DB         | 보통   |
| 4~5주 | Free/Pro 기능 분리 (`feature-gate.js`)    | 프론트엔드 | 보통   |
| 5~6주 | 무료체험 기간 관리 (30일)                 | 전체       | 보통   |
| 6주   | 결제 테스트 (토스페이먼츠 테스트 모드)    | 전체       | 보통   |

---

### Phase 3: 품질 강화 (3~4개월)

> **목표**: "프로답게 관리하고, 문제를 빠르게 발견하자"

| 주차  | 작업                                                    | 영역   | 난이도 |
| ----- | ------------------------------------------------------- | ------ | ------ |
| 1주   | Vitest + jsdom 테스트 환경 설정                         | 인프라 | 보통   |
| 1~2주 | 핵심 로직 단위 테스트 (tag-picker, group-picker, store) | 테스트 | 보통   |
| 2~3주 | Firebase 에뮬레이터 설정 (Firestore + Auth)             | 인프라 | 보통   |
| 3~4주 | Firebase 프로젝트 분리 (dev/prod)                       | 인프라 | 보통   |
| 4~5주 | GitHub Actions CI/CD 파이프라인                         | 인프라 | 보통   |
| 5~6주 | 대형 파일 분할 (group-manager.js, tag-game.js)          | 코드   | 보통   |
| 6~7주 | Sentry 에러 모니터링 연동                               | 인프라 | 쉬움   |
| 7~8주 | Netlify staging 브랜치 배포 환경 구축                   | 인프라 | 보통   |

---

### Phase 4: 시장 진입 (4~6개월)

> **목표**: "세상에 내놓고 사용자의 반응을 보자"

| 주차  | 작업                                               | 영역   | 난이도 |
| ----- | -------------------------------------------------- | ------ | ------ |
| 1~2주 | 성별/능력 균형 모둠뽑기 알고리즘 (Pro 기능)        | 기능   | 보통   |
| 2~3주 | 통계/리포트 페이지 (Pro 기능)                      | 기능   | 보통   |
| 3~4주 | 베타 테스터 모집 (교사 10~30명, 인디스쿨/참쌤스쿨) | 마케팅 | 쉬움   |
| 4~8주 | 베타 테스트 운영 + 피드백 수집 + 개선              | 운영   | 보통   |
| 6주   | 랜딩 페이지 제작                                   | 마케팅 | 보통   |
| 7주   | 사용자 가이드/도움말 작성                          | 문서   | 보통   |
| 8주   | 고객 지원 채널 설정 (카카오톡 채널)                | 운영   | 쉬움   |
| 9주   | 정식 런칭 (1,000원/월 구독)                        | 전체   | 보통   |

---

### Phase 5: 앱스토어 출시 (Phase 4 이후)

> **목표**: "앱스토어 노출로 접근성을 확보하자"

**Capacitor로 PWA → 네이티브 앱 변환:**

| Step | 작업                      | 명령어/비고                                                                                       |
| ---- | ------------------------- | ------------------------------------------------------------------------------------------------- |
| 1    | Capacitor 설치            | `npm install @capacitor/core @capacitor/cli && npx cap init PEPick com.pepick.app --web-dir dist` |
| 2    | 플랫폼 추가               | `npx cap add ios && npx cap add android`                                                          |
| 3    | 빌드 + 동기화             | `npm run build && npx cap sync`                                                                   |
| 4    | Xcode/Android Studio 열기 | `npx cap open ios / npx cap open android`                                                         |
| 5    | 인앱결제 전환             | 토스페이먼츠 → RevenueCat (Apple/Google 15% 수수료)                                               |

| 항목            | Apple App Store     | Google Play Store        |
| --------------- | ------------------- | ------------------------ |
| 개발자 등록비   | $99/년 (약 13만원)  | $25 (1회, 약 3.3만원)    |
| 심사 기간       | 1~3일               | 수 시간~2일              |
| 필요 장비       | Mac (Xcode) ✅ 보유 | 아무 PC (Android Studio) |
| 인앱결제 수수료 | 15% (소규모)        | 15%                      |
| 개인정보 라벨   | 필수 작성           | 필수 작성                |

---

## 7부: 현실적 시나리오 — 월별 추정 (1년차)

| 월  | 무료 사용자 | 유료 전환 | 누적 유료 | 월 매출   | 누적 매출 |
| --- | ----------- | --------- | --------- | --------- | --------- |
| 1   | 30          | 3         | 3         | 3,000원   | 3,000원   |
| 2   | 50          | 5         | 8         | 8,000원   | 11,000원  |
| 3   | 100         | 15        | 23        | 23,000원  | 34,000원  |
| 4   | 140         | 12        | 35        | 35,000원  | 69,000원  |
| 5   | 180         | 15        | 50        | 50,000원  | 119,000원 |
| 6   | 210         | 10        | 60        | 60,000원  | 179,000원 |
| 7   | 220         | 5         | 65        | 65,000원  | 244,000원 |
| 8   | 230         | 5         | 70        | 70,000원  | 314,000원 |
| 9   | 280         | 25        | 95        | 95,000원  | 409,000원 |
| 10  | 340         | 20        | 115       | 115,000원 | 524,000원 |
| 11  | 380         | 15        | 130       | 130,000원 | 654,000원 |
| 12  | 400         | 10        | 140       | 140,000원 | 794,000원 |

> **참고**: 3월(신학기)과 9월(2학기)에 전환율 급증, 7~8월(방학)에 감소 패턴
> 전국 초등학교 교사 약 19만명. 체육 전담 + 담임 중 체육 수업 교사 = 타겟 시장 상당히 큼.

---

## 8부: 1인 바이브코더를 위한 실전 가이드

### "이것만은 꼭!" — 상용화 전 반드시 해야 할 5가지

1. **겸직허가 신청 + 사업자등록** → 교육공무원의 수익 활동은 허가 없이 불가
2. **개인정보처리방침 + 동의 모달** → 법적 의무이므로 반드시 먼저!
3. **XSS 2곳 수정** (`tag-game.js:391`, `group-manager.js:246`) → 1줄 수정, 5분이면 끝
4. **Firestore 보안규칙 강화** → 데이터 검증 추가, 문서 크기 제한
5. **Firebase API 키 리퍼러 제한** → Firebase Console에서 5분이면 끝

### "이것은 나중에" — 미룰 수 있는 것들

- 프레임워크 전환 (React/Vue) — 당장은 Vanilla JS로 OK
- 대형 파일 분할 — 기능 완성이 먼저
- Lighthouse 90+ 최적화 — 기능 완성 후에
- 앱스토어 출시 — PWA 안정화 이후
- 학부모 연동 기능 — 체육 앱 특성상 필요성 낮음

### "이것은 외주로" — 1인으로 하기 어려운 것들

| 항목                       | 이유                                                                           | 예상 비용  | 추천 방법               |
| -------------------------- | ------------------------------------------------------------------------------ | ---------- | ----------------------- |
| 개인정보처리방침 법률 검토 | 법적 효력 필요. **14개 필수 항목** (개인정보보호법 제30조 기준) 충족 여부 검토 | 30~50만원  | 변호사 또는 법무법인    |
| 이용약관 작성              | 법적 효력 필요. **전자상거래법·약관규제법 기준 10개 필수 조항** 포함           | 20~30만원  | 변호사 또는 템플릿+검토 |
| 사업자등록                 | 행정 절차                                                                      | 10~20만원  | 세무사                  |
| 보안 감사 (선택)           | 전문 지식 필요                                                                 | 50~100만원 | 보안 컨설팅 업체        |

### 추천 도구/서비스

| 용도          | 추천                         | 비용                   |
| ------------- | ---------------------------- | ---------------------- |
| 결제 연동     | 토스페이먼츠                 | 수수료만 (3.3~4.3%)    |
| 에러 모니터링 | Sentry                       | 무료 (월 5,000 이벤트) |
| CI/CD         | GitHub Actions               | 무료 (공개 저장소)     |
| 도메인        | 가비아/후이즈                | 연 1~2만원             |
| 고객 지원     | 카카오톡 채널                | 무료                   |
| 사용자 분석   | Google Analytics 4           | 무료                   |
| 번들러        | Vite (이미 적용)             | 무료                   |
| 테스트        | Vitest                       | 무료                   |
| 법률 문서     | 법률N (템플릿) + 변호사 검토 | 10~30만원              |
| 앱스토어 래핑 | Capacitor                    | 무료                   |

---

## 최종 요약

### PEPick!의 현재 위치

```
알고리즘 신뢰성  █████████░  9/10  (Fisher-Yates, 최상급)
UI/UX 디자인    ████████░░  8/10  (Glass Morphism, 완성도 높음)
핵심 기능       ████████░░  8/10  (술래+모둠+배지 통합)
차별화          █████████░  8.5/10 (체육 전용 유일)
보안/신뢰       █████░░░░░  5/10  (XSS 2곳, 규칙 미비)
법적 준비       █░░░░░░░░░  1/10  (최우선 과제)
수익화 기반     ██░░░░░░░░  2/10  (Phase 2에서 구축)
종합 상품성     ██████░░░░  6.0/10
```

### 한줄 결론

> **"PEPick!은 알고리즘 신뢰성과 체육 특화라는 명확한 차별점을 가진, 상용화 가치가 충분한 서비스입니다. ClassPet 대비 학생 데이터 수집이 최소화되어 법적 정비 부담이 가볍고, XSS 2곳 수정 + 개인정보처리방침 + Firestore 규칙 강화만으로도 상품성 점수가 6.0 → 8.0 이상으로 올라갈 것입니다."**

### PEPick! vs ClassPet 상용화 비교

| 항목           | PEPick!                  | ClassPet                       |
| -------------- | ------------------------ | ------------------------------ |
| 상품성 점수    | 6.0/10                   | 5.6/10                         |
| 최대 강점      | 알고리즘 공정성 (9/10)   | 올인원 학급경영                |
| 법적 부담      | **가벼움** (학생 미접속) | 높음 (학생 감정·PIN 수집)      |
| 보안 위험도    | 중간 (XSS 2곳)           | 높음 (평문 비밀번호, PIN 노출) |
| 수익화 난이도  | 보통 (Netlify Functions) | 높음 (Cloud Functions)         |
| 예상 정비 시간 | ~50시간 (Phase 1~2)      | ~80시간 (Phase 1~2)            |

---

> **면책 고지**: 이 보고서는 코드 실사 기반 기술 분석 결과이며, 법률 자문이 아닙니다. 법적 요건(개인정보처리방침, 겸직허가 등)은 반드시 변호사의 검토를 받으시기 바랍니다.
